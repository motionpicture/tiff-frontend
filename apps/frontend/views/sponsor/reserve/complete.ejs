<h1><%- __('h1.CompleteReservation') %></h1>

<%- include('./_step') %>

<div class="row">

    <dl class="dl-horizontal">
        <dt><%- __('Label.PaymentNo') %></dt>
        <dd><%- reservationDocuments[0].get('payment_no') %></dd>

        <dt><%- __('Label.FilmName') %></dt>
        <dd>
            <%- reservationDocuments[0].get(`film_${__('DocumentField.name')}`) %>
        </dd>

        <dt><%- __('Label.PerformanceTime') %>/<%- __('Label.PerformancePlace') %></dt>
        <dd>
            <%- reservationDocuments[0].performance_day %> <%- reservationDocuments[0].performance_start_time %> ～ 
            <%- reservationDocuments[0].get(`theater_${__('DocumentField.name')}`) %> 
            <%- reservationDocuments[0].get(`screen_${__('DocumentField.name')}`) %>
        </dd>

        <dt><%- __('Label.SeatCode') %></dt>

        <dd>
            <div class="table-responsive">
                <table class="table table-bordered">
                    <tbody>
                        <% reservationDocuments.forEach((reservation, index) => { %>
                        <tr>
                            <td><a class="show-seat-position" href="javascript:void(0);" data-screen-id="<%- reservation.screen %>" data-seat-code="<%- reservation.seat_code %>"><%- reservation.seat_code %></a></td>
                            <td><a class="btn btn-default" href="javascript:void(0)"><%- __('Button.Print') %></a></td>
                            <td><a class="btn btn-default send-mail" href="javascript:void(0)" data-reservation-id="<%- reservation._id %>" data-url="/api/<%- req.getLocale() %>/reservation/email"><%- __('Button.SendMail') %></a></td>
                            <td><img src="<%- url('reserve.qrcode', {reservationId: reservation._id}) %>"></td>
                        </tr>
                        <% }) %>

                    </tbody>
                </table>
            </div>
        </dd>

    </dl>


    <a class="btn btn-default btn-lg btn-block btn-primary"  href="<%- url('sponsor.mypage', {}) %>"><%- __('Button.BackToMyPage') %></a>
</div>



<div class="modal fade transfering" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>

            <div class="modal-body">
                <div class="form-group">
                    <label for="id_email"><%- __('Form.FieldName.email') %></label>
                    <input type="text" name="email" id="id_email" class="form-control">
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal"><%- __('Button.Cancel') %></button>
                <button type="button" class="btn btn-primary execute-transfer"><%- __('Button.Transfer') %></button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade loading" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <div class="text-center sending"><%- __('Message.Sending') %></div>
                <div class="text-center sent"><%- __('Message.Sent') %></div>
                <div class="text-center unsent"><%- __('Message.Unsent') %></div>
            </div>
        </div>
    </div>
</div>


<script src="/js/reserve/complete.js"></script>
